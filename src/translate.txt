import React, { forwardRef } from 'react';
import mapModifiers from 'variables/functions';
import './index.scss';

interface CheckboxProps extends React.InputHTMLAttributes<HTMLInputElement> {}

const Checkbox = forwardRef<HTMLInputElement, CheckboxProps>(
    ({ children, ...props }, ref) => {
        return (
            <div className={mapModifiers('a-checkbox')}>
                <label className="a-checkbox_label">
                    <input ref={ref} type="checkbox" {...props} />
                    <span className="a-checkbox_checkMark" />
                    {children}
                </label>
            </div>
        );
    }
);

export default Checkbox;


.a-checkbox {
    $root: &;

    &_label {
        position: relative;
        display: flex;
        align-items: center;
        min-height: 24px;
        padding-left: 24px;
        cursor: pointer;
        &:hover {
            #{$root}_checkMark {
                border-color: #00833e;
            }
        }
    }

    input[type='checkbox'] {
        top: 0;
        left: 0;
        position: absolute;
        opacity: 0;
        pointer-events: none;

        &:checked + #{$root}_checkMark {
            border-color: #00833e;
            &::after {
                display: block;
            }
        }
    }

    &_checkMark {
        position: absolute;
        top: 0;
        left: 0;
        width: 22px;
        height: 22px;
        border-radius: 5px;
        border: 1px solid gray;
        background-color: white;
        &::after {
            display: none;
            position: absolute;
            left: 10%;
            top: 12%;
            content: '';
            width: 12px;
            height: 4px;
            border: 3px solid #00833e;
            border-right-color: transparent;
            border-top-color: transparent;
            transform: rotate(-45deg) skew(-10deg);
        }
    }
}
